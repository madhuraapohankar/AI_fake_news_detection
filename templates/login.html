{% extends "base.html" %}
{% block content %}

<div class="container">
    <div class="card auth-container">

        <h2 style="text-align:center; margin-bottom:25px;">
            üîê Authentication Portal
        </h2>

        <!-- ===== MAIN ROLE TABS ===== -->
        <div class="tabs" style="text-align:center; margin-bottom:20px;">
            <button onclick="showRole('userRole')" id="userRoleBtn">User</button>
            <button onclick="showRole('adminRole')" id="adminRoleBtn">Admin</button>
        </div>

        <!-- ================= USER SECTION ================= -->
        <div id="userRole">

            <!-- USER INNER TABS -->
            <div class="tabs" style="text-align:center; margin-bottom:15px;">
                <button onclick="showUserTab('login')">Login</button>
                <button onclick="showUserTab('register')">Register</button>
            </div>

            <!-- USER LOGIN -->
            <div id="login" class="tab-content">
                <form method="POST" action="/login">
                    <input type="hidden" name="role" value="user">

                    <input type="email" name="email" placeholder="User Email" required>
                    <input type="password" name="password" placeholder="Password" required>

                    <button type="submit">User Login</button>
                </form>
            </div>

            <!-- USER REGISTER -->
            <div id="register" class="tab-content" style="display:none;">
                <form method="POST" action="/register">
                    <input type="text" name="name" placeholder="Full Name" required>
                    <input type="email" name="email" placeholder="Email" required>
                    <input type="password" name="password" placeholder="Password" required>

                    <button type="submit">Register</button>
                </form>
            </div>

        </div>

        <!-- ================= ADMIN SECTION ================= -->
        <div id="adminRole" style="display:none;">
            <form method="POST" action="/login">

                <input type="hidden" name="role" value="admin">

                <input type="email" name="email" placeholder="Admin Email" required>
                <input type="password" name="password" placeholder="Admin Password" required>

                <button type="submit">Admin Login</button>
            </form>
        </div>

    </div>
</div>

<script>
/* ===== ROLE SWITCH ===== */
function showRole(roleId) {
    document.getElementById("userRole").style.display = "none";
    document.getElementById("adminRole").style.display = "none";

    document.getElementById(roleId).style.display = "block";
}

/* ===== USER LOGIN/REGISTER SWITCH ===== */
function showUserTab(tab) {
    document.getElementById("login").style.display = "none";
    document.getElementById("register").style.display = "none";

    document.getElementById(tab).style.display = "block";
}
</script>

{% endblock %}